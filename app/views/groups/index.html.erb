<% content_for(:title, 'Group Management') %>

<div class="row">
  <div class="col-lg-12">
    <div class="card border-0">
      <div class="card-header bg-dark text-light">
        <div class="row">
          <div class="col-auto mr-auto pt-1">
            Groups
          </div>
          <% if policy(Group).create? -%>
              <div class="col-auto">
                <%= link_to new_group_path, class: 'event-title-btn', 'data-toggle': :tooltip, 'data-placement': :bottom, title: 'Add Group' do %>
                  <%= fa_icon('plus-square') %>
                <% end %>
              </div>
          <% end -%>
        </div>
      </div>

      <div class="card-body pb-0 pl-0 pr-0 pt-0">
        <table class="table table-sm table-bordered table-responsive mb-0">
          <tbody>
          <tr class="bg-light">
            <% if policy(Group).update? -%>
                <th></th>
            <% end -%>
            <th class="text-center">
              <small>Name</small>
            </th>
            <th class="text-center">
              <small>Controllers</small>
            </th>
            <th class="text-center">
              <small>Visiting Controllers</small>
            </th>
            <th class="text-center">
              <small>Staff</small>
            </th>
            <th class="text-center">
              <small>Users</small>
            </th>
          </tr>
          <% if @groups.empty? %>
              <tr>
                <td colspan="6" class="text-center">
                  <small><i>No information available</i></small>
                </td>
              </tr>
          <% end %>

          <% @groups.each do |g| -%>
            <%= render 'group', group: g %>
          <% end -%>
          </tbody>
        </table>
      </div>

    </div>
  </div>
</div>
